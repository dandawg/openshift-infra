# AWS GPU MachineSet Configuration

# Cluster-specific values (auto-detected from cluster-info-aws ConfigMap)
# Set these via --set flags or override values file
clusterName: ""  # e.g., mycluster-abc123
region: ""       # e.g., us-east-1
availabilityZone: ""  # e.g., us-east-1a
infraID: ""      # e.g., mycluster-abc123-12345
amiId: ""        # e.g., ami-0bc8dda494f111572 (auto-detected from existing worker nodes)

# Machine naming
# Use this to differentiate between multiple GPU machinesets in the same cluster
machineNameSuffix: "g6"  # e.g., "g6", "g4dn", "g6-4x" - must be unique per machineset

# GPU instance configuration
instanceType: g6.2xlarge  # NVIDIA L4 GPU
replicas: 1

# Storage configuration
rootVolume:
  size: 120
  type: gp3
  iops: 3000

# GPU node configuration
# Resource specifications for annotations
gpu:
  count: 1           # Number of GPUs
  memoryMb: 32768   # RAM in MB (32GB for g6.2xlarge, 65536 for g6.4xlarge)
  vCPU: 8           # vCPUs (8 for g6.2xlarge, 16 for g6.4xlarge)

taints:
  - key: nvidia.com/gpu
    value: "qwen3-vl-embedding-2b-1 "
    effect: NoSchedule

# GPU instance type details:
# g4dn.xlarge: 1x NVIDIA T4 (16GB), 4 vCPU, 16GB RAM, ~$0.53/hr
# g6.2xlarge: 1x NVIDIA L4 (24GB), 8 vCPU, 32GB RAM, ~$1.10/hr
# g6.4xlarge: 1x NVIDIA L4 (24GB), 16 vCPU, 64GB RAM, ~$2.15/hr
